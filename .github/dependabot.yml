# To get started with Dependabot version updates, you'll need to specify which
# package ecosystems to update and where the package manifests are located.
# Please see the documentation for all configuration options:
# https://help.github.com/github/administering-a-repository/configuration-options-for-dependency-updates

# Notes:
# - Must have a unique combination of 'package-ecosystem', 'directory', and 'target-branch'.

version: 2
updates:
  # Minor, Patch updates (to be auto-merged using 'release-management/dependabot-automerge')
  - package-ecosystem: 'npm'
    directory: '/' # Location of package manifests
    schedule:
      # After the weekly release branch cut-off on Monday
      interval: 'weekly'
      day: 'Tuesday'
      time: '06:00'
      timezone: 'America/Los_Angeles'
    ignore:
      - dependency-name: '*'
        update-types: ['version-update:semver-major']
    open-pull-requests-limit: 10
  # Major version updates (not auto-merged)
  - package-ecosystem: 'npm'
    directory: '/' # Location of package manifests
    target-branch: 'develop'
    schedule:
      # Monthly after the weekly minor,patch updates have been merged
      interval: 'monthly'
      day: 'Friday'
      time: '06:00'
      timezone: 'America/Los_Angeles'
    ignore:
      - dependency-name: '*'
        update-types:
          ['version-update:semver-minor', 'version-update:semver-patch']
    open-pull-requests-limit: 5
  # Exclude updates to doc tools
  # TODO: Enable after adding automated check(s) for doc generation
  - package-ecosystem: 'bundler'
    directory: '/docs' # Location of package manifests
    ignore:
      - dependency-name: '*'
