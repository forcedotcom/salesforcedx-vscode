---
title: 競合の検出
lang: ja
---

ローカルのプロジェクトとデフォルトの組織を同期させるためにソースを取得したりデプロイしたりすると、競合が検出される可能性があります。競合の検出機能は、Sandbox や Developer Edition 組織などの非スクラッチ組織でのみ利用可能です。

競合が検出された場合、取得やデプロイの操作をキャンセルして、ローカルのプロジェクトとデフォルトの組織との差分を表示することができます。

競合の原因となったファイルを表示するには、アクティビティバーの Org Differences アイコン ({% octicon issue-opened %}) をクリックします。Org Differences: Conflicts ビューがサイドバーに開き、競合が発生したファイルのリストが表示されます。競合を解決するには、ファイルをクリックして差分エディタを開き、リモートファイル (左側) とローカルファイル (右側) を比較します。ファイルを編集するには、ファイル名の上にカーソルを置き、ファイルを開くアイコンをクリックします。

また、競合があるリソースファイルや、競合を上書きする CLI コマンドを出力パネルで表示することもできます。

競合が検出されない場合は、取得またはデプロイ操作が完了します。

> 注意: 競合の検知機能は現在ベータ版です。不具合を発見したかフィードバックがある場合は、[GitHub に issue をオープン](./ja/bugs-and-feedback)してください。

競合検出機能はベータ版のため、以下の手順に従いこの機能を有効化する必要があります。

1. **[File \(ファイル\)]** > **[Preferences \(基本設定\)]** > **[Settings \(設定\)]** (Windows or Linux) または **[Code \(コード\)]** > **[Preferences \(基本設定\)]** > **[Settings \(設定\)]** を選択します。
2. Salesforce Feature Previews にある、Detect Conflicts At Sync を選択します。

検索ボックスで conflict detection と入力し、機能を特定して有効化することもできます。

このベータ版リリースでは、競合の検出は、**SFDX: Retrieve Source in Manifest from Org (SFDX: マニフェストファイルのソースを組織から取得)** および **SFDX: Deploy Source in Manifest to Org (SFDX: マニフェストファイルのソースを組織へデプロイ)** コマンドだけで有効化されます。ローカル環境と組織の両方に存在するすべてのマニフェストファイルについて競合がチェックされます。両方に存在しないファイルについてはチェックされません。

![競合検出のプロンプト](./images/DetectConflict_prompt.png)

競合を上書きするか、操作をキャンセルして Org Differences ビューに競合を表示するかを選択することができます。

> 注意: Org Differences ビューに競合するファイルが表示されていない場合は、**Detect Conflicts At Sync** 設定が有効になっていることを確認してください。

![メタデータ取得のフロー](./images/RetrieveMetadataFlow.gif)
