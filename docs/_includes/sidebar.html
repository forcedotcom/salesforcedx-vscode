<section class="site site-sidebar slds-order_2">
  <div class="site-banner">
    <div class="site-skip-content">
      {% assign skipLink = page.url %} {% if page.url == '/' %} {% assign
      skipLink = '' %} {% endif %} {% assign skipLink = skipLink | prepend:
      site.baseurl %}
      <a
        href="{{ skipLink }}#site-main-content"
        class="slds-assistive-text slds-assistive-text_focus"
        >Skip to Content</a
      >
    </div>
    <div class="site-logo">
      {% assign rootLink = site.baseurl %} {% if page.lang != 'en'
      %} {% assign rootLink = site.baseurl | append: '/' | append: page.lang %}
      {% endif %} {% if page.name == '404.html' %} {% assign truncLen =
      site.baseurl | size %} {% assign rootLink = rootLink |
      truncate: truncLen, "" %} {% endif %}
      <a href="{{ rootLink }}"
        ><span class="site-logo__graphic"
          ><span class="slds-assistive-text">Salesforce</span> </span
        >Salesforce Extensions for Visual Studio Code and Code Builder</a
      >
    </div>
    <form
      class="slds-grid site-search slds-grid_vertical-align-center"
      novalidate=""
    >
      <div role="search" class="site-searchbox__wrapper slds-col">
        <label for="search-landing-nav" class="slds-assistive-text"
          >Search</label
        ><span
          class="algolia-autocomplete"
          style="position: relative; display: inline-block; direction: ltr;"
          ><input
            type="text"
            id="search-landing-nav"
            class="site-searchbox__input slds-input site-search-input ds-input"
            name="search"
            placeholder="Search"
            autocomplete="off"
            required=""
            spellcheck="false"
            role="combobox"
            aria-autocomplete="list"
            aria-expanded="false"
            aria-owns="algolia-autocomplete-listbox-0"
            dir="auto"
            style="position: relative; vertical-align: top;"/>
          <pre
            aria-hidden="true"
            style="position: absolute; visibility: hidden; white-space: pre; font-family: 'Salesforce Sans', Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: normal; text-indent: 0px; text-rendering: auto; text-transform: none;"
          ></pre></span
        ><button type="submit" class="slds-assistive-text" tabindex="-1">
          Submit your search query
        </button>
      </div>
    </form>
    <div class="language-picker">
      {% assign jpurl = page.url | replace: '/en/', '/ja/' %} {% if page.url ==
      '/' %} {% assign jpurl = page.url | append: 'ja' %} {% endif %} {% assign
      enurl = page.url | replace: '/ja/', '/en/' %} {% if page.url == '/ja' %}
      {% assign enurl = '/' %} {% endif %} {% if enurl == '/' %} {% assign
      enurl = '' %} {% endif %}
      <a
        class="{% if page.lang == 'en' %}is-selected{% endif %}"
        href="{{ enurl | prepend: site.baseurl }}"
        hreflang="en"
        translate="no"
        >English</a
      >
      |
      <a
        class="{% if page.lang == 'ja' %}is-selected{% endif %}"
        href="{{ jpurl | prepend: site.baseurl }}"
        hreflang="ja"
        translate="no"
        >日本語</a
      >
    </div>
  </div>
  <div
    id="site-navigation"
    class="site site-navigation site-navigation--has-search"
  >
    <nav
      id="navigation"
      role="navigation"
      tabindex="-1"
      aria-label="Main navigation"
    >
      <ul class="slds-list_vertical slds-has-block-links">
        {% for item in site.data.sidebar %} {% if page.url contains item.baseUrl
        %}
        <li class="list__item slds-is-open slds-is-selected">
          <button class="slds-button_reset" aria-expanded="true">
            <span class="slds-media slds-media--center">
              <span class="slds-media__body">{{ item.title[page.lang] }}</span
              ><span class="slds-media__figure--reverse">
                <svg
                  class="slds-icon slds-icon__svg slds-icon-utility-right slds-icon--small"
                  aria-hidden="true"
                  style="transform: rotate(90deg);"
                >
                  <use
                    xlink:href="{{
                      '/assets/icons/utility-sprite/svg/symbols.svg#right'
                        | prepend: site.baseurl
                    }}"
                  ></use>
                </svg>
              </span>
            </span>
          </button>
          <ul class="slds-list_vertical slds-has-block-links slds-is-nested">
            {% for entry in item.children %}
            <li
              class="list__item {% if page.url contains entry.url %}slds-is-selected slds-is-active{% endif %}"
            >
              <a
                href="{{
                  entry.url
                    | prepend: page.lang
                    | prepend: '/'
                    | prepend: site.baseurl
                }}"
              >
                <span class="slds-media slds-media--center">
                  <span class="slds-media__body"
                    >{{ entry.title[page.lang] }}</span
                  >
                </span>
              </a>
            </li>
            {% endfor %}
          </ul>
        </li>
        {% else %} {% if item.url %}
        <li
          class="list__item {% if page.url contains item.url %}slds-is-selected slds-is-active{% endif %}"
        >
          <a
            href="{{
              item.url
                | prepend: page.lang
                | prepend: '/'
                | prepend: site.baseurl
            }}"
          >
            <span class="slds-media slds-media--center">
              <span class="slds-media__body">{{ item.title[page.lang] }}</span>
            </span>
          </a>
        </li>
        {% else %}
        <li class="list__item">
          <a
            href="{{
              item.children.first.url
                | prepend: page.lang
                | prepend: '/'
                | prepend: site.baseurl
            }}"
          >
            <span class="slds-media slds-media--center">
              <span class="slds-media__body">{{ item.title[page.lang] }}</span>
            </span>
          </a>
          <ul
            class="slds-list_vertical slds-has-block-links slds-is-nested"
            style="display: none;"
          >
            {% for entry in item.children %}
            <li
              class="list__item {% if page.url contains entry.url %}slds-is-selected slds-is-active{% endif %}"
            >
              <a
                href="{{
                  entry.url
                    | prepend: page.lang
                    | prepend: '/'
                    | prepend: site.baseurl
                }}"
              >
                <span class="slds-media slds-media--center">
                  <span class="slds-media__body"
                    >{{ entry.title[page.lang] }}</span
                  >
                </span>
              </a>
            </li>
            {% endfor %}
          </ul>
        </li>
        {% endif %} {% endif %} {% endfor %}
      </ul>
    </nav>
  </div>
</section>

<!-- Before the closing </body> -->
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script>
  docsearch({
    apiKey: '354d0738c025be4feb1208d80033ecfc',
    indexName: 'salesforce_vscode',
    inputSelector: '#search-landing-nav'
  });
</script>
